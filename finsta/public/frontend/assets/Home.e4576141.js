import{Q as Pe,i as Me}from"./insta-logo.c2f1bb5c.js";import{H as Re,S as Fe,B as Ue,C as We,_ as Xe}from"./BookmarkOutline.f80e8a14.js";import{d as fe,i as A,r as p,h as S,a as R,p as M,o as je,n as Ye,b as Ge,c as Le,w as ae,e as ze,F as I,_ as ve,f,g as x,j as n,t as _,k as $,m as xe,l as he,q as y,u as c,s as T,v as re,x as ue,y as F,z as Ze,A as qe,B as Qe,C as Je,D as V,E as Ee}from"./index.a22779ab.js";/**
 * Vue 3 Carousel 0.3.0
 * (c) 2023
 * @license MIT
 */const b={itemsToShow:1,itemsToScroll:1,modelValue:0,transition:300,autoplay:0,snapAlign:"center",wrapAround:!1,throttle:16,pauseAutoplayOnHover:!1,mouseDrag:!0,touchDrag:!0,dir:"ltr",breakpoints:void 0},Ne={itemsToShow:{default:b.itemsToShow,type:Number},itemsToScroll:{default:b.itemsToScroll,type:Number},wrapAround:{default:b.wrapAround,type:Boolean},throttle:{default:b.throttle,type:Number},snapAlign:{default:b.snapAlign,validator(l){return["start","end","center","center-even","center-odd"].includes(l)}},transition:{default:b.transition,type:Number},breakpoints:{default:b.breakpoints,type:Object},autoplay:{default:b.autoplay,type:Number},pauseAutoplayOnHover:{default:b.pauseAutoplayOnHover,type:Boolean},modelValue:{default:void 0,type:Number},mouseDrag:{default:b.mouseDrag,type:Boolean},touchDrag:{default:b.touchDrag,type:Boolean},dir:{default:b.dir,validator(l){return["rtl","ltr"].includes(l)}},settings:{default(){return{}},type:Object}};function Ke({config:l,slidesCount:s}){const{snapAlign:e,wrapAround:o,itemsToShow:a=1}=l;if(o)return Math.max(s-1,0);let u;switch(e){case"start":u=s-a;break;case"end":u=s-1;break;case"center":case"center-odd":u=s-Math.ceil((a-.5)/2);break;case"center-even":u=s-Math.ceil(a/2);break;default:u=0;break}return Math.max(u,0)}function et({config:l,slidesCount:s}){const{wrapAround:e,snapAlign:o,itemsToShow:a=1}=l;let u=0;if(e||a>s)return u;switch(o){case"start":u=0;break;case"end":u=a-1;break;case"center":case"center-odd":u=Math.floor((a-1)/2);break;case"center-even":u=Math.floor((a-2)/2);break;default:u=0;break}return u}function de({val:l,max:s,min:e}){return s<e?l:Math.min(Math.max(l,e),s)}function tt({config:l,currentSlide:s,slidesCount:e}){const{snapAlign:o,wrapAround:a,itemsToShow:u=1}=l;let d=s;switch(o){case"center":case"center-odd":d-=(u-1)/2;break;case"center-even":d-=(u-2)/2;break;case"end":d-=u-1;break}return a?d:de({val:d,max:e-u,min:0})}function Ve(l){return l?l.reduce((s,e)=>{var o;return e.type===I?[...s,...Ve(e.children)]:((o=e.type)===null||o===void 0?void 0:o.name)==="CarouselSlide"?[...s,e]:s},[]):[]}function ce({val:l,max:s,min:e=0}){return l>s?ce({val:l-(s+1),max:s,min:e}):l<e?ce({val:l+(s+1),max:s,min:e}):l}function st(l,s){let e;return s?function(...o){const a=this;e||(l.apply(a,o),e=!0,setTimeout(()=>e=!1,s))}:l}function lt(l,s){let e;return function(...o){e&&clearTimeout(e),e=setTimeout(()=>{l(...o),e=null},s)}}var nt=fe({name:"ARIA",setup(){const l=A("currentSlide",p(0)),s=A("slidesCount",p(0));return()=>S("div",{class:["carousel__liveregion","carousel__sr-only"],"aria-live":"polite","aria-atomic":"true"},`Item ${l.value+1} of ${s.value}`)}}),ot=fe({name:"Carousel",props:Ne,setup(l,{slots:s,emit:e,expose:o}){var a;const u=p(null),d=p([]),w=p(0),r=p(0),t=R(Object.assign({},b));let m=Object.assign({},b),C;const v=p((a=l.modelValue)!==null&&a!==void 0?a:0),D=p(0),U=p(0),N=p(0),B=p(0);let j,q;M("config",t),M("slidesCount",r),M("currentSlide",v),M("maxSlide",N),M("minSlide",B),M("slideWidth",w);function Q(){C=Object.assign({},l.breakpoints),m=Object.assign(Object.assign(Object.assign({},m),l),{breakpoints:void 0}),_e(m)}function W(){if(!C||!Object.keys(C).length)return;const i=Object.keys(C).map(h=>Number(h)).sort((h,O)=>+O-+h);let g=Object.assign({},m);i.some(h=>{const O=window.matchMedia(`(min-width: ${h}px)`).matches;return O&&(g=Object.assign(Object.assign({},g),C[h])),O}),_e(g)}function _e(i){Object.entries(i).forEach(([g,h])=>t[g]=h)}const ge=lt(()=>{W(),H()},16);function H(){if(!u.value)return;const i=u.value.getBoundingClientRect();w.value=i.width/t.itemsToShow}function J(){r.value<=0||(U.value=Math.ceil((r.value-1)/2),N.value=Ke({config:t,slidesCount:r.value}),B.value=et({config:t,slidesCount:r.value}),t.wrapAround||(v.value=de({val:v.value,max:N.value,min:B.value})))}je(()=>{Ye(()=>H()),setTimeout(()=>H(),1e3),W(),Se(),window.addEventListener("resize",ge,{passive:!0}),e("init")}),Ge(()=>{q&&clearTimeout(q),j&&clearInterval(j),window.removeEventListener("resize",ge,{passive:!0})});let k=!1;const X={x:0,y:0},Y={x:0,y:0},L=R({x:0,y:0}),G=p(!1),K=p(!1),De=()=>{G.value=!0},Be=()=>{G.value=!1};function be(i){["INPUT","TEXTAREA","SELECT"].includes(i.target.tagName)||(k=i.type==="touchstart",k||i.preventDefault(),!(!k&&i.button!==0||z.value)&&(X.x=k?i.touches[0].clientX:i.clientX,X.y=k?i.touches[0].clientY:i.clientY,document.addEventListener(k?"touchmove":"mousemove",we,!0),document.addEventListener(k?"touchend":"mouseup",ye,!0)))}const we=st(i=>{K.value=!0,Y.x=k?i.touches[0].clientX:i.clientX,Y.y=k?i.touches[0].clientY:i.clientY;const g=Y.x-X.x,h=Y.y-X.y;L.y=h,L.x=g},t.throttle);function ye(){const i=t.dir==="rtl"?-1:1,g=Math.sign(L.x)*.4,h=Math.round(L.x/w.value+g)*i;if(h&&!k){const O=le=>{le.stopPropagation(),window.removeEventListener("click",O,!0)};window.addEventListener("click",O,!0)}E(v.value-h),L.x=0,L.y=0,K.value=!1,document.removeEventListener(k?"touchmove":"mousemove",we,!0),document.removeEventListener(k?"touchend":"mouseup",ye,!0)}function Se(){!t.autoplay||t.autoplay<=0||(j=setInterval(()=>{t.pauseAutoplayOnHover&&G.value||Z()},t.autoplay))}function ke(){j&&(clearInterval(j),j=null),Se()}const z=p(!1);function E(i){const g=t.wrapAround?i:de({val:i,max:N.value,min:B.value});v.value===g||z.value||(e("slide-start",{slidingToIndex:i,currentSlideIndex:v.value,prevSlideIndex:D.value,slidesCount:r.value}),z.value=!0,D.value=v.value,v.value=g,q=setTimeout(()=>{if(t.wrapAround){const h=ce({val:g,max:N.value,min:0});h!==v.value&&(v.value=h,e("loop",{currentSlideIndex:v.value,slidingToIndex:i}))}e("update:modelValue",v.value),e("slide-end",{currentSlideIndex:v.value,prevSlideIndex:D.value,slidesCount:r.value}),z.value=!1,ke()},t.transition))}function Z(){E(v.value+t.itemsToScroll)}function ee(){E(v.value-t.itemsToScroll)}const Ce={slideTo:E,next:Z,prev:ee};M("nav",Ce),M("isSliding",z);const Ae=Le(()=>tt({config:t,currentSlide:v.value,slidesCount:r.value}));M("slidesToScroll",Ae);const He=Le(()=>{const i=t.dir==="rtl"?-1:1,g=Ae.value*w.value*i;return{transform:`translateX(${L.x-g}px)`,transition:`${z.value?t.transition:0}ms`,margin:t.wrapAround?`0 -${r.value*w.value}px`:"",width:"100%"}});function $e(){Q(),W(),J(),H(),ke()}Object.keys(Ne).forEach(i=>{["modelValue"].includes(i)||ae(()=>l[i],$e)}),ae(()=>l.modelValue,i=>{i!==v.value&&E(Number(i))}),ae(r,J),e("before-init"),Q();const Te={config:t,slidesCount:r,slideWidth:w,next:Z,prev:ee,slideTo:E,currentSlide:v,maxSlide:N,minSlide:B,middleSlide:U};o({updateBreakpointsConfigs:W,updateSlidesData:J,updateSlideWidth:H,initDefaultConfigs:Q,restartCarousel:$e,slideTo:E,next:Z,prev:ee,nav:Ce,data:Te});const te=s.default||s.slides,se=s.addons,Oe=R(Te);return()=>{const i=Ve(te?.(Oe)),g=se?.(Oe)||[];i.forEach((ne,oe)=>ne.props.index=oe);let h=i;if(t.wrapAround){const ne=i.map((ie,P)=>ze(ie,{index:-i.length+P,isClone:!0,key:`clone-before-${P}`})),oe=i.map((ie,P)=>ze(ie,{index:i.length+P,isClone:!0,key:`clone-after-${P}`}));h=[...ne,...i,...oe]}d.value=i,r.value=Math.max(i.length,1);const O=S("ol",{class:"carousel__track",style:He.value,onMousedownCapture:t.mouseDrag?be:null,onTouchstartPassiveCapture:t.touchDrag?be:null},h),le=S("div",{class:"carousel__viewport"},O);return S("section",{ref:u,class:{carousel:!0,"is-sliding":z.value,"is-dragging":K.value,"is-hover":G.value,"carousel--rtl":t.dir==="rtl"},dir:t.dir,"aria-label":"Gallery",tabindex:"0",onMouseenter:De,onMouseleave:Be},[le,g,S(nt)])}}});const it={arrowUp:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z",arrowDown:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z",arrowRight:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z",arrowLeft:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"},me=l=>{const s=l.name;if(!s||typeof s!="string")return;const e=it[s],o=S("path",{d:e}),a=l.title||s,u=S("title",a);return S("svg",{class:"carousel__icon",viewBox:"0 0 24 24",role:"img",ariaLabel:a},[u,o])};me.props={name:String,title:String};const at=(l,{slots:s,attrs:e})=>{const{next:o,prev:a}=s||{},u=A("config",R(Object.assign({},b))),d=A("maxSlide",p(1)),w=A("minSlide",p(1)),r=A("currentSlide",p(1)),t=A("nav",{}),{dir:m,wrapAround:C}=u,v=m==="rtl",D=S("button",{type:"button",class:["carousel__prev",!C&&r.value<=w.value&&"carousel__prev--disabled",e?.class],"aria-label":"Navigate to previous slide",onClick:t.prev},a?.()||S(me,{name:v?"arrowRight":"arrowLeft"})),U=S("button",{type:"button",class:["carousel__next",!C&&r.value>=d.value&&"carousel__next--disabled",e?.class],"aria-label":"Navigate to next slide",onClick:t.next},o?.()||S(me,{name:v?"arrowLeft":"arrowRight"}));return[D,U]};var rt=fe({name:"CarouselSlide",props:{index:{type:Number,default:1},isClone:{type:Boolean,default:!1}},setup(l,{slots:s}){const e=A("config",R(Object.assign({},b))),o=A("currentSlide",p(0)),a=A("slidesToScroll",p(0)),u=A("isSliding",p(!1)),d=()=>l.index===o.value,w=()=>l.index===o.value-1,r=()=>l.index===o.value+1,t=()=>{const m=Math.floor(a.value),C=Math.ceil(a.value+e.itemsToShow-1);return l.index>=m&&l.index<=C};return()=>{var m;return S("li",{style:{width:`${100/e.itemsToShow}%`},class:{carousel__slide:!0,"carousel__slide--clone":l.isClone,"carousel__slide--visible":t(),"carousel__slide--active":d(),"carousel__slide--prev":w(),"carousel__slide--next":r(),"carousel__slide--sliding":u.value},"aria-hidden":!t()},(m=s.default)===null||m===void 0?void 0:m.call(s))}}});const ut={name:"DotsHorizontalIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},dt=["aria-hidden","aria-label"],ct=["fill","width","height"],mt={d:"M16,12A2,2 0 0,1 18,10A2,2 0 0,1 20,12A2,2 0 0,1 18,14A2,2 0 0,1 16,12M10,12A2,2 0 0,1 12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12M4,12A2,2 0 0,1 6,10A2,2 0 0,1 8,12A2,2 0 0,1 6,14A2,2 0 0,1 4,12Z"},pt={key:0};function ft(l,s,e,o,a,u){return f(),x("span",xe(l.$attrs,{"aria-hidden":e.title?null:"true","aria-label":e.title,class:"material-design-icon dots-horizontal-icon",role:"img",onClick:s[0]||(s[0]=d=>l.$emit("click",d))}),[(f(),x("svg",{fill:e.fillColor,class:"material-design-icon__svg",width:e.size,height:e.size,viewBox:"0 0 24 24"},[n("path",mt,[e.title?(f(),x("title",pt,_(e.title),1)):$("",!0)])],8,ct))],16,dt)}var pe=ve(ut,[["render",ft]]);const vt={name:"CommentOutlineIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},xt=["aria-hidden","aria-label"],ht=["fill","width","height"],_t={d:"M9,22A1,1 0 0,1 8,21V18H4A2,2 0 0,1 2,16V4C2,2.89 2.9,2 4,2H20A2,2 0 0,1 22,4V16A2,2 0 0,1 20,18H13.9L10.2,21.71C10,21.9 9.75,22 9.5,22V22H9M10,16V19.08L13.08,16H20V4H4V16H10Z"},gt={key:0};function bt(l,s,e,o,a,u){return f(),x("span",xe(l.$attrs,{"aria-hidden":e.title?null:"true","aria-label":e.title,class:"material-design-icon comment-outline-icon",role:"img",onClick:s[0]||(s[0]=d=>l.$emit("click",d))}),[(f(),x("svg",{fill:e.fillColor,class:"material-design-icon__svg",width:e.size,height:e.size,viewBox:"0 0 24 24"},[n("path",_t,[e.title?(f(),x("title",gt,_(e.title),1)):$("",!0)])],8,ht))],16,xt)}var wt=ve(vt,[["render",bt]]);const yt={class:"flex z-20 items-center justify-between"},St={class:"flex items-center"},kt={class:"-mt-[14px]"},Ie={__name:"LikesSection",props:["post"],emits:["like"],setup(l,{emit:s}){return he(l),(o,a)=>(f(),x("div",yt,[n("div",St,[n("button",kt,[y(Re,{class:"pl-3 cursor-pointer",size:30})]),y(wt,{class:"pl-3 pt-[10px]",size:30}),y(Fe,{class:"pl-3 pt-[10px]",size:30})]),y(Ue,{class:"pl-3 pt-[10px]",size:30})]))}},Ct={id:"ShowPostOptionsOverlay",class:"fixed flex items-center z-50 top-0 left-0 w-full h-screen bg-[#000000] bg-opacity-60 p-3"},At={class:"max-w-sm w-full mx-auto mt-10 bg-white rounded-xl text-center"},$t={__name:"ShowPostOptionsOverlay",props:{deleteType:String,id:Number},emits:["close","deleteSelected"],setup(l){return he(l),(e,o)=>(f(),x("div",Ct,[n("div",At,[o[1]||(o[1]=n("button",{class:"font-extrabold w-full text-red-600 p-3 text-lg border-b border-b-gray-300 cursor-pointer"}," Delete ",-1)),n("div",{class:"p-3 text-lg cursor-pointer",onClick:o[0]||(o[0]=a=>e.$emit("close"))},"Cancel")])]))}},Tt={name:"EmoticonHappyOutlineIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},Ot=["aria-hidden","aria-label"],Mt=["fill","width","height"],Lt={d:"M20,12A8,8 0 0,0 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20A8,8 0 0,0 20,12M22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2A10,10 0 0,1 22,12M10,9.5C10,10.3 9.3,11 8.5,11C7.7,11 7,10.3 7,9.5C7,8.7 7.7,8 8.5,8C9.3,8 10,8.7 10,9.5M17,9.5C17,10.3 16.3,11 15.5,11C14.7,11 14,10.3 14,9.5C14,8.7 14.7,8 15.5,8C16.3,8 17,8.7 17,9.5M12,17.23C10.25,17.23 8.71,16.5 7.81,15.42L9.23,14C9.68,14.72 10.75,15.23 12,15.23C13.25,15.23 14.32,14.72 14.77,14L16.19,15.42C15.29,16.5 13.75,17.23 12,17.23Z"},zt={key:0};function Et(l,s,e,o,a,u){return f(),x("span",xe(l.$attrs,{"aria-hidden":e.title?null:"true","aria-label":e.title,class:"material-design-icon emoticon-happy-outline-icon",role:"img",onClick:s[0]||(s[0]=d=>l.$emit("click",d))}),[(f(),x("svg",{fill:e.fillColor,class:"material-design-icon__svg",width:e.size,height:e.size,viewBox:"0 0 24 24"},[n("path",Lt,[e.title?(f(),x("title",zt,_(e.title),1)):$("",!0)])],8,Mt))],16,Ot)}var Nt=ve(Tt,[["render",Et]]);const jt={id:"OverlaySection",class:"fixed z-50 top-0 left-0 w-full h-screen bg-[#000000] bg-opacity-60 p-3"},Vt={class:"max-w-6xl h-[calc(100%-100px)] mx-auto mt-10 bg-white rounded-xl"},It={class:"w-full md:flex h-full overflow-auto rounded-xl"},Dt={class:"flex items-center bg-black w-full"},Bt=["src"],Ht={class:"md:max-w-[500px] w-full relative"},Pt={class:"flex items-center justify-between p-3 border-b"},Rt={class:"flex items-center"},Ft=["src"],Ut={class:"ml-4 font-extrabold text-[15px]"},Wt={class:"flex items-center text-[15px] text-gray-500"},Xt={class:"overflow-y-auto h-[calc(100%-170px)]"},Yt={class:"flex items-center justify-between p-3"},Gt={class:"flex items-center relative"},Zt=["src"],qt={class:"ml-14"},Qt={class:"font-extrabold text-[15px] mr-2"},Jt={class:"text-[15px] text-gray-900"},Kt={class:"flex items-center justify-between"},es={class:"flex items-center"},ts=["src"],ss={class:"ml-4 font-extrabold text-[15px]"},ls={class:"font-light text-gray-700 text-sm"},ns={class:"text-[13px] pl-[55px]"},os={class:"absolute flex border bottom-0 w-full max-h-[200px] bg-white overflow-auto"},is={__name:"ShowPostOverlay",props:["post"],emits:["closeOverlay","addComment","updateLike","deleteSelected"],setup(l){let s=p(""),e=p(null),o=p(null);const a=Pe().props.auth.user,u=l,{post:d}=he(u),w=r=>{textarea.value.style.height="auto",textarea.value.style.height=`${r.target.scrollHeight}px`};return(r,t)=>(f(),x(I,null,[n("div",jt,[n("button",{class:"absolute right-3",onClick:t[0]||(t[0]=m=>r.$emit("closeOverlay"))},[y(We,{size:27,fillColor:"#FFFFFF"})]),n("div",Vt,[n("div",It,[n("div",Dt,[n("img",{class:"rounded-xl min-w-[400px] p-4 mx-auto",src:c(d).file},null,8,Bt)]),n("div",Ht,[n("div",Pt,[n("div",Rt,[n("img",{class:"rounded-full w-[38px] h-[38px]",src:c(d).user.user_image},null,8,Ft),n("div",Ut,_(c(d).user.username),1),n("div",Wt,[t[5]||(t[5]=n("span",{class:"-mt-5 ml-2 mr-[5px] text-[35px]"},".",-1)),n("div",null,_(c(d).created_at),1)])]),c(a).id===c(d).user.id?(f(),x("button",{key:0,onClick:t[1]||(t[1]=m=>{T(e)?e.value="Post":e="Post",T(o)?o.value=c(d).id:o=c(d).id})},[y(pe,{class:"cursor-pointer",size:27})])):$("",!0)]),n("div",Xt,[n("div",Yt,[n("div",Gt,[n("img",{class:"absolute -top-1 rounded-full w-[38px] h-[38px]",src:c(d).user.file},null,8,Zt),n("div",qt,[n("span",Qt,_(c(d).user.username),1),n("span",Jt,_(c(d).text),1)])])]),c(d).comments?(f(!0),x(I,{key:0},re(c(d).comments,m=>(f(),x("div",{class:"p-3",key:m},[n("div",Kt,[n("div",es,[n("img",{class:"rounded-full w-[38px] h-[38px]",src:m.user.file},null,8,ts),n("div",ss,[ue(_(m.user.name)+" ",1),n("span",ls,_(c(d).created_at),1)])]),c(a).id===m.user.id?(f(),F(pe,{key:0,class:"cursor-pointer",onClick:C=>{T(e)?e.value="Comment":e="Comment",T(o)?o.value=m.id:o=m.id},size:27},null,8,["onClick"])):$("",!0)]),n("div",ns,_(m.text),1)]))),128)):$("",!0),t[6]||(t[6]=n("div",{class:"pb-16 md:hidden"},null,-1))]),c(d)?(f(),F(Ie,{key:0,class:"px-2 border-t mb-2",post:c(d),onLike:t[2]||(t[2]=m=>r.emit("updateLike",m))},null,8,["post"])):$("",!0),n("div",os,[y(Nt,{class:"pl-3 pt-[10px]",size:30}),Ze(n("textarea",{ref:"textarea",oninput:w,"onUpdate:modelValue":t[3]||(t[3]=m=>T(s)?s.value=m:s=m),placeholder:"Add a comment...",rows:"1",class:"w-full border-0 mt-2 mb-2 text-sm z-50 focus:ring-0 text-gray-600 text-[18px]"},null,512),[[qe,c(s)]]),c(s)?(f(),x("button",{key:0,class:"text-blue-600 font-extrabold pr-4",onClick:t[4]||(t[4]=m=>{r.$emit("addComment",{post:c(d),user:c(a),comment:c(s)}),T(s)?s.value="":s=""})}," Post ")):$("",!0)])])])])]),c(e)?(f(),F($t,{key:0})):$("",!0)],64))}};const as={class:"mx-auto lg:pl-0 md:pl-[80px] pl-0"},rs=["src"],us={class:"text-xs mt-2 w-[60px] truncate text-ellipsis overflow-hidden"},ds={class:"flex items-center justify-between py-2"},cs={class:"flex items-center"},ms=["src"],ps={class:"ml-4 font-extrabold text-[15px]"},fs={class:"flex items-center text-[15px] text-gray-500"},vs={class:"bg-black rounded-lg w-full min-h-[400px] flex items-center"},xs=["src"],hs={class:"text-black font-extrabold py-1"},_s={class:"text-black font-extrabold"},gs=["onClick"],Ss={__name:"Home",props:{posts:Object,allUsers:Object},setup(l){let s=p(window.innerWidth),e=p(0),o=p(null),a=p(!1);je(()=>{window.addEventListener("resize",()=>{s.value=window.innerWidth})});let u=Qe({url:"http://127.0.0.1:8000/api/method/finsta.finsta.doctype.post.post.get_posts_with_likes_and_comments",method:"GET"});u.fetch();let d=Je({doctype:"User",fields:["name","username","user_image"],filters:[["name","not in",["Guest","Administrator"]]]});return d.fetch(),(w,r)=>(f(),x(I,null,[y(Xe,null,{default:V(()=>[ue(" Welcome "+_(c(Ee).user)+"! ",1),n("button",{onClick:r[0]||(r[0]=t=>c(Ee).logout.submit())},"Logout"),n("div",as,[y(c(ot),{modelValue:c(e),"onUpdate:modelValue":r[1]||(r[1]=t=>T(e)?e.value=t:e=t),class:"max-w-[700px] mx-auto","items-to-show":c(s)>=768?8:6,"items-to-scroll":4,"wrap-around":!0,transition:500,snapAlign:"start"},{addons:V(()=>[y(c(at))]),default:V(()=>[(f(!0),x(I,null,re(c(d).data,t=>(f(),F(c(rt),{key:t},{default:V(()=>[y(c(Me),{href:"/",class:"relative mx-auto text-center mt-4 px-2 cursor-pointer"},{default:V(()=>[r[4]||(r[4]=n("div",{class:"absolute z-[-1] -top-[5px] left-[4px] rounded-full rotate-45 w-[64px] h-[64px] contrast-[1.3] bg-gradient-to-t from-yellow-300 to-purple-500 via-red-500"},[n("div",{class:"rounded-full ml-[3px] mt-[3px] w-[58px] h-[58px] bg-white"})],-1)),n("img",{src:t.user_image,class:"rounded-full w-[56px] -mt-[1px]"},null,8,rs),n("div",us,_(t.username),1)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["modelValue","items-to-show"]),(f(!0),x(I,null,re(c(u).data,t=>(f(),x("div",{id:"Posts",class:"px-4 max-w-[600px] mx-auto mt-10",key:t},[n("div",ds,[n("div",cs,[y(c(Me),{href:"/",class:"flex items-center"},{default:V(()=>[n("img",{src:t.user.user_image,class:"rounded-full w-[38px] h-[38px]"},null,8,ms),n("div",ps,_(t.user.username),1)]),_:2},1024),n("div",fs,[r[5]||(r[5]=n("span",{class:"-mt-5 ml-2 mr-[5px] text-[35px]"},".",-1)),n("div",null,_(t.created_at),1)])]),y(pe,{class:"cursor-pointer",size:27})]),n("div",vs,[n("img",{src:t.file,class:"max-auto w-full"},null,8,xs)]),y(Ie,{post:t,onLike:r[2]||(r[2]=m=>w.updateLike(m))},null,8,["post"]),n("div",hs,_(t.likes.length)+" likes",1),n("div",null,[n("span",_s,_(t.user.username),1),ue(" "+_(t.text),1)]),n("button",{onClick:m=>{T(o)?o.value=t:o=t,T(a)?a.value=!0:a=!0},class:"text-gray-500 font-extrabold py-1"}," View all "+_(t.comments.length)+" comments ",9,gs)]))),128)),r[6]||(r[6]=n("div",{class:"pb-20"},null,-1))])]),_:1}),c(a)?(f(),F(is,{key:0,post:c(o),onCloseOverlay:r[3]||(r[3]=t=>T(a)?a.value=!1:a=!1)},null,8,["post"])):$("",!0)],64))}};export{Ss as default};
